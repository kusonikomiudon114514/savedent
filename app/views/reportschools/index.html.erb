<html>
<p id="notice"><%= notice %></p>

<head>
<meta charset="UTF-8">
<link rel="stylesheet" "href=reportschools.scss">
<style>

.btn-real-dent {
    /*周りの凹み*/
    display: inline-block;
    position: relative;
    text-decoration: none;
    color: rgba(3, 169, 244, 0.54);
    width: 100px;
    height: 100px;
    border-radius: 50%;
    text-align: center;
    background: #f7f7f7;
    box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.08);
  }
  .btn-real-dent i {
    /*ボタン自体*/
    position: absolute;
    content: '';
    width: 80px;
    height: 80px;
    line-height: 80px;
    left: 10px;
    top: 9px;
    border-radius: 50%;
    font-size: 40px;
    writing-mode: vertical-rl;
    background-image: linear-gradient(#e8e8e8 0%, #d6d6d6 100%);
    text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.66);
    box-shadow: inset 0 2px 0 rgba(255,255,255,0.5), 0 2px 2px rgba(0, 0, 0, 0.19);
    border-bottom: solid 2px #b5b5b5;
  }
    
  .btn-real-dent .fa:active {
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.5), 0 2px 2px rgba(0, 0, 0, 0.19);
    border-bottom: solid 2px #d8d8d8;
  }



  .btn-social-circle {
    display: inline-block;
    text-decoration: none;
    width: 50px;
    height: 50px;
    line-height: 50px;
    font-size: 23px;
    border-radius: 50%;
    text-align: center;
    overflow: hidden;
    font-weight: bold;
    text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.66);
    box-shadow: 0 1px 1px rgba(0, 0, 0, 0.28);
    transition: .3s;
  }
  .btn-social-circle i {
    line-height: 50px;
  }
  .btn-social-circle:hover　{
    box-shadow: 0 3px 3px rgba(0, 0, 0, 0.28);
    -webkit-transform: translateY(-5px);
    transform: translateY(-5px);
  }

  .btn-social-circle--pocket {
    color: #ff6d82;
    background-image: linear-gradient(#ffcfd7 0%, #ff7285 100%);
  }






th.example { text-align: center; }
.sampleTable {
    border-collapse: collapse;
    table-layout: fixed;
}

th.example2 { text-align: right; }
.sampleTable {
    border-collapse: collapse;
    table-layout: fixed;
}
</style>
</head>
<body>
<h1>入学試験受験報告書</h1>


<table>
  <tr>
    <th class="example2" style="width:50px">地方 </th>
    <td>
    <%= form_tag('/searchs_localname1_search') do %>
        <%= select_tag 'search[localname1]' , options_for_select(Place.select(:localname1).distinct.map{|r| [r.localname1,r.localname1]},0), include_blank:true  %>
        <%= submit_tag '検索' %>
    <% end %> 
    </td>
    <th class="example2" style="width:50px">地域 </th>
    <td>
    <%= form_tag('/searchs_localname2_search') do %>
        <%= select_tag 'search[localname2]' , options_for_select(Place.select(:localname2).distinct.map{|r| [r.localname2,r.localname2]},0), include_blank:true %>
        <%= submit_tag '検索' %>
    <% end %> 
    </td>
    <th class="example2" style="width:80px">都道府県 </th>
    <td>
    <%= form_tag('/searchs_place_search') do %>
        <%= select_tag 'search[place]' ,options_for_select(Place.all.map {|r| [r.todohuken,r.todohuken] } , {:selected => session[:search_place]}) , include_blank:true%>
        <%= submit_tag '検索' %>
    <% end %> 
    </td>
  </tr>
</table>

<br>

<table>
  <tr>
    <th class="example2" style="width:50px">学校種</th>
    <td>
        <%= form_tag('/searchs_type_search') do %>
          <%= select_tag 'search[type]' , options_for_select(Type.all.map {|r| [r.name,r.id] } , {:selected => session[:search_type]}) , include_blank:true %>
          <%= submit_tag '検索' %>
        <% end %> 
    </td> 
    
    <th class="example2" style="width:100px">分野別</th>
    <td>
        <%= form_tag('/searchs_field_search') do %>
        <%= select_tag 'search[field]' , options_for_select(Field.all.map {|r| [r.name,r.id] } , {:selected => session[:search_field]}) , include_blank:true%>
        <%= submit_tag '検索' %>
        <% end %> 
    </td>
  </tr>
</table>

<br>

<table>
  <tr>
      <th class="example2" style="width:50px">学校名</th>
      <td>
      <%= form_tag('/searchs_search') do %>
        <%= text_field_tag 'search[gakkou]' , session[:search_gakkou], :placeholder => "（例）島根大学" %>
        <%= submit_tag '検索' %>
    <% end %> 
    </td>

      <th class="example2" style="width:143px">検索絞り込み</th>
      <td>
      <%= form_tag('/searchs_saw_search') do %>
        <%= select_tag 'search[saw]' , options_for_select(Saw.all.map {|r| [r.name,r.id] } , {:selected => session[:search_saw]}) , include_blank:true%>
        <%= submit_tag '検索' %>
    <% end %> 
    </td>
    <th class="example2" style="width:143px">
    <%= submit_tag '検索' %>
    </th>
   </tr>
</table>

<h2>入学試験報告書<h5>（作成履歴・検索結果）</h5></h2>
<table class="table table-bordered">
  <thead>
    <tr>
      <th class="example" style="width:90px">学校種</th>
      <th class="example" style="width:150px">分野</th>
      <th class="example" style="width:150px">学校名</th>
      <th class="example" style="width:150px">学部</th>
      <th class="example" style="width:150px">学科</th>
      <th class="example" style="width:150px">コース</th>
      <th colspan="3"></th>
    </tr>
  </thead>
  <tbody>
    <% @reportschools.each do |reportschool| %>
      <tr align="center">
        <td><%= reportschool.type.name %></td>
        <td><%= reportschool.field.name %></td>
        <td><%= reportschool.gakkou %></td>
        <td><%= reportschool.gakubu %></td>
        <td><%= reportschool.gakka %></td>
        <td><%= reportschool.course %></td>
        <td style="width:30px"><%= link_to '詳細', reportschool %></td>
        <td style="width:30px"><%= link_to '編集', edit_reportschool_path(reportschool) %></td>
        <td style="width:30px"><%= link_to '削除', reportschool, method: :delete, data: { confirm: '本当に削除しますか？' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<h4><%= link_to '新規作成', new_reportschool_path %></h>

<h2>閲覧履歴</h2>
<table class="table table-bordered">
  <thead>
    <tr>
      <th class="example" style="width:90px">閲覧日</th>
      <th class="example" style="width:90px">学校種</th>
      <th class="example" style="width:150px">分野</th>
      <th class="example" style="width:150px">学校名</th>
      <th class="example" style="width:150px">学部</th>
      <th class="example" style="width:150px">学科</th>
      <th class="example" style="width:150px">コース</th>
      <th> <colspan="3"></th>
    </tr>
  </thead>

  <tbody>    
    <% @schoollogs.first(10).each do |schoollog| %>
      <tr align="center">
        <td><%= schoollog.created_at.strftime("%Y/%-m/%-d %-H時%-M分") %></td>
        <td><%= schoollog.reportschool.type.name %></td>
        <td><%= schoollog.reportschool.field.name %></td>
        <td><%= schoollog.reportschool.gakkou %></td>
        <td><%= schoollog.reportschool.gakubu %></td>
        <td><%= schoollog.reportschool.gakka %></td>
        <td><%= schoollog.reportschool.course %></td>
        <td style="width:30px"><%= link_to '詳細', schoollog %></td>
       <!--
        <td><%= link_to '編集', edit_reportschool_path(schoollog) %></td>
        <td><%= link_to '削除', schoollog, method: :delete, data: { confirm: '本当に削除しますか？' } %></td> 
        -->
      </tr>
    <% end %>
  </tbody>
</table>
<br>
<br>
<br>
<br>

<a class="btn-social-circle btn-social-circle--pocket">
  <i class="fa fa-get-pocket">詳細</i>
</a>

<a href="reportschools.sccs" class="btn-real-dent">
  <i class="fa fa-home">🚮</i>
</a>
</body>
</html>

